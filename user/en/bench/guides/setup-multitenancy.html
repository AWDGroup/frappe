<!DOCTYPE html>
<!-- Built on Frappe. https://frappe.io/ -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title> Setup Multitenancy </title>
	<meta name="generator" content="frappe">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/hljs.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/font-awesome.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/octicons/octicons.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/docs.css">

    
	<link rel="shortcut icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
	<link rel="icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
    

		
<style>

</style>
</head>
<body data-path="user/en/bench/guides/setup-multitenancy">
	<div class="offcanvas-container">
		<div class="offcanvas">
			<div class="offcanvas-main-section">
				<div>
						<header>
	<nav class="navbar navbar-default navbar-main" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand ellipsis" href="https://frappe.github.io/frappe/">
					<span>Frappe Framework</span>
				</a>
				<a class="pull-right toggle-sidebar visible-xs">
					<i class="octicon octicon-three-bars"></i>
				</a>
			</div>
			<div class="hidden-xs">
				
				<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='<i class="octicon octicon-search"></i>' >
	<a href="/#"
		
		>
	<i class="octicon octicon-search"></i></a></li><li data-label='Developer Tutorials' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	Developer Tutorials</a></li><li data-label='API Documentation' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	API Documentation</a></li>
	<li class="shopping-cart" style="padding-top:9px;"></li>
	<!-- post login tools -->

</ul>
				
			</div>
		</div>
	</nav>
</header><div class="hero-and-content">
                        <div data-html-block="hero"></div>
                        <div class="container" data-html-block="content">
                        
<div class="page-container" id="page-setup-multitenancy" data-path="user/en/bench/guides/setup-multitenancy"
	data-doctype="Web Page">
		<div class="page-content page-max-width">
			<div class="row ">
				
				<div class=" content-block col-sm-12 ">
					<div class="page-content-wrapper">
						<div class="row page-head">
							<div class="col-sm-8">
								
								<div class="page-breadcrumbs">
									
    
    
<ul class="breadcrumb">
	<li>
		<span class="icon icon-angle-left"></span>
		<a href="https://frappe.github.io/frappe/user/en/bench/guides">
		Guides</a>
	</li>
	
</ul>

    

								</div>
								
								<h1>Setup Multitenancy</h1>
							</div>
							<div class="col-sm-4">
								

								
							</div>
						</div>
					</div>
					<div class="page_content">
<div class="webpage-content">
	
	<article class="web-page-content" id="setup-multitenancy" style="text-align: Left">
	<p>Assuming that you've already got your first site running and you've performed
the <a href="production-setup.html">production deployment steps</a>, this section explains how to host your second
site (and more). Your first site is automatically set as default site. You can
change it with the command,</p>

<pre><code>bench use sitename
</code></pre>

<h2>Port based multitenancy</h2>

<p>DNS based multitenancy mode is enabled by default, switch it off using the command
<code>
    bench config dns_multitenant off
</code></p>

<p>You can create a new site and make run it on a different port (while the first
one runs on port 80).</p>

<ul>
<li><p>Create a new site</p>

<p><code>bench new-site site2name</code></p></li>
<li><p>Set port</p>

<p><code>bench set-nginx-port site2name 82</code></p></li>
<li><p>Re generate nginx config</p>

<p><code>bench setup nginx</code></p></li>
<li><p>Reload nginx</p>

<p><code>sudo service nginx reload</code></p></li>
</ul>

<h2>DNS based multitenancy</h2>

<p>You can name your sites as the hostnames that would resolve to it. Thus, all the sites you add to the bench would run on the same port and will be automatically selected based on the hostname. </p>

<p>To make a new site under DNS based multitenancy, perform the following steps.</p>

<ul>
<li><p>Create a new site</p>

<p><code>bench new-site site2name</code></p></li>
<li><p>Re generate nginx config</p>

<p><code>bench setup nginx</code></p></li>
<li><p>Reload nginx</p>

<p><code>sudo service nginx reload</code></p></li>
</ul>

	</article>
	
</div>
</div>
				</div>
			</div>
		</div>
</div>

						
<div class="page-container">
	<div class="page-content">
	<div class="edit-container text-center">
		<i class="icon icon-smile"></i>
		<a class="text-muted edit" href="https://github.com/frappe/frappe/blob/develop/frappe/docs/user/en/bench/guides/setup-multitenancy.md">
			Improve this page
		</a>
	</div>
	</div>
</div>
                        </div>
                    </div>
					<footer class="docs-footer">
						<div class="container"><div class="built-with-frappe text-center">
                            <img class="frappe-bird" src="https://frappe.github.io/frappe/assets/img/frappe-bird-grey.svg">
                            <h3>By Frappe Technologies</h3>
                        </div>
                        <div class="text-center">
                            <ul class="list-unstyled">
                                <li>
                                    <a href="https://github.com/frappe/frappe">
                                    Source</a>
                                </li>
                                <li>
                                    <a href="https://github.com/frappe/frappe/issues">
                                    Issues</a>
                                </li>
                                <li>
                                    <a href="https://frappe.github.io/frappe/license.html">
                                    License</a>
                                </li>
                                <li>
                                    <a href="https://discuss.erpnext.com">
                                    Forum</a>
                                </li>
                                <li>
                                    <a href="https://frappe.io/apps">
                                    Frappe Apps</a>
                                </li>
                            </ul>
                        </div>

                    </div>
					</footer>
				</div>
			</div>
			<div class="modal-backdrop offcanvas-main-section-overlay"></div>
			<div class="sidebar sidebar-right visible-xs">
				<div class="sidebar-navbar-items">
					<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='<i class="octicon octicon-search"></i>' >
	<a href="/#"
		
		>
	<i class="octicon octicon-search"></i></a></li><li data-label='Developer Tutorials' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	Developer Tutorials</a></li><li data-label='API Documentation' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	API Documentation</a></li>
	<li class="shopping-cart" style="padding-top:9px;"></li>
	<!-- post login tools -->

</ul>
				</div>
			</div>
		</div>
	</div>

	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/highlight.pack.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/docs.js"></script>

	<!-- js should be loaded in body! -->
	<script>
        window.docs_base_url = "https://frappe.github.io/frappe";
    </script>
    <script></script>


	<!-- csrf_token --></body>
</html>