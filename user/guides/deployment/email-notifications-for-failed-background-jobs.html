<!DOCTYPE html>
<!-- Built on Frappe. https://frappe.io/ -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Email Notifications For Failed Background Jobs</title>
	<meta name="generator" content="frappe">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/hljs.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/font-awesome.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/octicons/octicons.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/docs.css">

	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/highlight.pack.js"></script>

    
	<link rel="shortcut icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
	<link rel="icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
    
<meta name="name" content="Email Notifications For Failed Background Jobs" data-html-block="meta_block">
<meta name="twitter:card" content="summary" data-html-block="meta_block">
<meta name="twitter:description" content="Frappe handles failure of jobs in the following way,1) If a job fails, (raises exception), it&#39;s logged in Scheduler Log and  logs/worker.error.log.2) Keeps a lock file and would not run anymore if lock file is there.3) Raises LockTimeoutError in case the lock file is more than 10 minutes old. You can configure email notification for scheduler errors. By writing a file, sites/common_site_config.json with content &lt;code class=&#34;j" data-html-block="meta_block">
<meta name="og:type" content="article" data-html-block="meta_block">
<meta name="og:description" content="Frappe handles failure of jobs in the following way,1) If a job fails, (raises exception), it&#39;s logged in Scheduler Log and  logs/worker.error.log.2) Keeps a lock file and would not run anymore if lock file is there.3) Raises LockTimeoutError in case the lock file is more than 10 minutes old. You can configure email notification for scheduler errors. By writing a file, sites/common_site_config.json with content &lt;code class=&#34;j" data-html-block="meta_block">
<meta name="og:title" content="Email Notifications For Failed Background Jobs" data-html-block="meta_block">
<meta name="twitter:title" content="Email Notifications For Failed Background Jobs" data-html-block="meta_block">
<meta name="description" content="Frappe handles failure of jobs in the following way,1) If a job fails, (raises exception), it&#39;s logged in Scheduler Log and  logs/worker.error.log.2) Keeps a lock file and would not run anymore if lock file is there.3) Raises LockTimeoutError in case the lock file is more than 10 minutes old. You can configure email notification for scheduler errors. By writing a file, sites/common_site_config.json with content &lt;code class=&#34;j" data-html-block="meta_block">

		
			<style data-html-block="style"></style></head>
<body>
	<div class="offcanvas-container">
		<div class="offcanvas">
			<div class="offcanvas-main-section">
				<div>
						<header>
	<nav class="navbar navbar-default navbar-main" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand ellipsis" href="https://frappe.github.io/frappe/">
					<span>Frappe Framework</span>
				</a>
				<a class="pull-right toggle-sidebar visible-xs">
					<i class="octicon octicon-three-bars"></i>
				</a>
			</div>
			<div class="hidden-xs">
				
				<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='Contents' >
	<a href="https://frappe.github.io/frappe/contents.html"
		
		>
	Contents</a></li><li data-label='User Guide' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	User Guide</a></li><li data-label='Developer Docs' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	Developer Docs</a></li>
	<!-- post login tools -->

</ul>

				
			</div>
		</div>
	</nav>
</header>
<script>$(function() { $('.dropdown-toggle').dropdown(); });</script><div class="hero-and-content">
                        
                            <div class="container">
                            <div class="page-container" id="page-email-notifications-for-failed-background-jobs" data-path="user/guides/deployment/email-notifications-for-failed-background-jobs"
    data-doctype="Web Page">
	<div class="page-content">
    	<div class="page-content-wrapper">
            <div class="row">
                <div class="col-sm-8">
            		<div class="page-header-block" data-html-block="header"><h1>Email Notifications For Failed Background Jobs</h1></div>
                </div>
                <div class="col-sm-4">
            		<div class="page-header-actions-block" data-html-block="header-actions"></div>
                </div>
            </div>
    		<div class="page-breadcrumbs" data-html-block="breadcrumbs">
<ul class="breadcrumb">
	<li>
		<span class="icon icon-angle-left"></span>
		<a href="https://frappe.github.io/frappe/user/guides/deployment">
		Deployment</a>
	</li>
	
</ul>
</div>
    	    <div class="page-content-block">
<div class="webpage-content">
	
	<article class="web-page-content" id="email-notifications-for-failed-background-jobs" style="text-align: Left">
	<p>Frappe handles failure of jobs in the following way,</p><p>1) If a job fails, (raises exception), it's logged in Scheduler Log and&nbsp; <code>logs/worker.error.log</code>.<br>2) Keeps a lock file and would not run anymore if lock file is there.<br>3) Raises LockTimeoutError in case the lock file is more than 10 minutes old.</p>

<p>You can configure email notification for scheduler errors. By writing a file, <code>sites/common_site_config.json</code> with content<br></p>

<pre><code class="json hljs">{
  "<span class="hljs-attribute">celery_error_emails</span>": <span class="hljs-value">{
    "<span class="hljs-attribute">ADMINS</span>": <span class="hljs-value">[
      [
        <span class="hljs-string">"Person 1"</span>,
        <span class="hljs-string">"person1@example.com"</span>
      ],
      [
        <span class="hljs-string">"Person2 "</span>,
        <span class="hljs-string">"person2@example.com"</span>
      ]
    ]</span>,
    "<span class="hljs-attribute">SERVER_EMAIL</span>": <span class="hljs-value"><span class="hljs-string">"exceptions@example.com"</span>
  </span>}
</span>}</code></pre>

<p>One limitation is that it'll use local mailserver on port 25 to send the emails.</p>

	</article>
	
</div>
</div>
    	</div>
	</div>
</div>
                            <p><br><a class="text-muted" href="https://github.com/frappe/frappe/blob/develop/frappe/docs/user/guides/deployment/email-notifications-for-failed-background-jobs.md">Improve this page</a></p>
                            </div>
                        
                    </div>
					<footer class="docs-footer">
						<div class="container"><br>
                        <div class="text-center">
                            <ul class="list-unstyled">
                                <li>
                                    <a href="https://github.com/frappe/frappe">
                                    Source</a>
                                </li>
                                <li>
                                    <a href="https://github.com/frappe/frappe/issues">
                                    Issues</a>
                                </li>
                                <li>
                                    <a href="https://frappe.github.io/frappe/license.html">
                                    License</a>
                                </li>
                                <li>
                                    <a href="https://discuss.erpnext.com">
                                    Forum</a>
                                </li>
                                <li>
                                    <a href="https://apps.frappe.io">
                                    Frappe Apps</a>
                                </li>
                            </ul>
                        </div>
                        <div class="built-with-frappe text-center">
                            <img src="https://frappe.github.io/frappe/assets/img/frappe-bird-grey.svg" style="width: 40px; height: 40px; margin-top: 20px;">
                        </div>
                    </div>
					</footer>
				</div>
			</div>
			<div class="modal-backdrop offcanvas-main-section-overlay"></div>
			<div class="sidebar sidebar-right visible-xs">
				<div class="sidebar-navbar-items">
					<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='Contents' >
	<a href="https://frappe.github.io/frappe/contents.html"
		
		>
	Contents</a></li><li data-label='User Guide' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	User Guide</a></li><li data-label='Developer Docs' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	Developer Docs</a></li>
	<!-- post login tools -->

</ul>

				</div>
			</div>
		</div>
	</div>

	<!-- js should be loaded in body! -->
    <script>
    $(function() {
	if(hljs) {
		$('pre code').each(function(i, block) {
			hljs.highlightBlock(block);
		});
	}

	$(".toggle-sidebar").on("click", function() {
		$(".offcanvas").addClass("active-right");
		return false;
	});

	// collapse offcanvas sidebars!
	$(".offcanvas .sidebar").on("click", "a", function() {
		$(".offcanvas").removeClass("active-left active-right");
	});

	$(".offcanvas-main-section-overlay").on("click", function() {
		$(".offcanvas").removeClass("active-left active-right");
		return false;
	});

});
    </script>
		<script data-html-block="script"></script>

	<!-- csrf_token --></body>
</html>