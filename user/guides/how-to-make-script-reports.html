<!DOCTYPE html>
<!-- Built on Frappe. https://frappe.io/ -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Frappe Framework</title>
	<meta name="generator" content="frappe">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/hljs.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/font-awesome.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/octicons/octicons.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/docs.css">

	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/highlight.pack.js"></script>

    
	<link rel="shortcut icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
	<link rel="icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
    
<meta name="name" content="Script Report" data-html-block="meta_block">
<meta name="twitter:card" content="summary" data-html-block="meta_block">
<meta name="image" content="/assets/frappe_io/images/how-to/script-report.png" data-html-block="meta_block">
<meta name="og:type" content="article" data-html-block="meta_block">
<meta name="og:description" content="You can create tabulated reports using server side scripts by creating a new Report. Note: You will need Administrator Permissions for this. Since these reports give you unrestricted access via Python scripts, they can only be created by Administrators. The script part of the report becomes a part of the repository of the application. If you have not created an app, read this. Note: You must be" data-html-block="meta_block">
<meta name="twitter:image:src" content="/assets/frappe_io/images/how-to/script-report.png" data-html-block="meta_block">
<meta name="og:title" content="Script Report" data-html-block="meta_block">
<meta name="twitter:title" content="Script Report" data-html-block="meta_block">
<meta name="og:image" content="/assets/frappe_io/images/how-to/script-report.png" data-html-block="meta_block">
<meta name="twitter:description" content="You can create tabulated reports using server side scripts by creating a new Report. Note: You will need Administrator Permissions for this. Since these reports give you unrestricted access via Python scripts, they can only be created by Administrators. The script part of the report becomes a part of the repository of the application. If you have not created an app, read this. Note: You must be" data-html-block="meta_block">
<meta name="description" content="You can create tabulated reports using server side scripts by creating a new Report. Note: You will need Administrator Permissions for this. Since these reports give you unrestricted access via Python scripts, they can only be created by Administrators. The script part of the report becomes a part of the repository of the application. If you have not created an app, read this. Note: You must be" data-html-block="meta_block">

		
			<style data-html-block="style"></style></head>
<body>
	<div class="offcanvas-container">
		<div class="offcanvas">
			<div class="offcanvas-main-section">
				<div>
						<header>
	<nav class="navbar navbar-default navbar-main" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand ellipsis" href="https://frappe.github.io/frappe/">
					<span>Frappe Framework</span>
				</a>
				<a class="pull-right toggle-sidebar visible-xs">
					<i class="octicon octicon-three-bars"></i>
				</a>
			</div>
			<div class="hidden-xs">
				
				<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='Contents' >
	<a href="https://frappe.github.io/frappe/contents.html"
		
		>
	Contents</a></li><li data-label='User Guide' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	User Guide</a></li><li data-label='Developer Docs' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	Developer Docs</a></li>
	<!-- post login tools -->

</ul>

				
			</div>
		</div>
	</nav>
</header>
<script>$(function() { $('.dropdown-toggle').dropdown(); });</script><div class="hero-and-content">
                        
                            <div class="container">
                            <div class="page-container" id="page-how-to-make-script-reports" data-path="user/guides/how-to-make-script-reports"
    data-doctype="Web Page">
	<div class="page-content">
    	<div class="page-content-wrapper">
            <div class="row">
                <div class="col-sm-8">
            		<div class="page-header-block" data-html-block="header"><h1>Script Report</h1></div>
                </div>
                <div class="col-sm-4">
            		<div class="page-header-actions-block" data-html-block="header-actions"></div>
                </div>
            </div>
    		<div class="page-breadcrumbs" data-html-block="breadcrumbs">
<ul class="breadcrumb">
	<li>
		<span class="icon icon-angle-left"></span>
		<a href="https://frappe.github.io/frappe/user/guides">
		Guides</a>
	</li>
	
</ul>
</div>
    	    <div class="page-content-block">
<div class="webpage-content">
	
	<article class="web-page-content" id="how-to-make-script-reports" style="text-align: Left">
	<p>You can create tabulated reports using server side scripts by creating a new Report.</p>

<blockquote>
  <p>Note: You will need Administrator Permissions for this.</p>
</blockquote>

<p>Since these reports give you unrestricted access via Python scripts, they can only be created by Administrators. The script part of the report becomes a part of the repository of the application. If you have not created an app, <a href="/developers/guide">read this</a>.</p>

<blockquote>
  <p>Note: You must be in <a href="/developers/how-to/enable-developer-mode">Developer Mode</a> to do this</p>
</blockquote>

<h3>1. Create a new Report</h3>

<p><img src="/assets/frappe_io/images/how-to/script-report.png" alt="Query Report" /></p>

<ol>
<li>Set Report Type as "Script Report"</li>
<li>Set "Is Standard" as "Yes"</li>
<li>Select the Module in which you want to add this report</li>
<li>In the module folder (for example if it is Accounts in ERPnext the folder will be <code>erpnext/accounts/report/[report-name]</code>) you will see that templates for the report files will be created.</li>
<li>In the <code>.js</code> file, you can set filters for the reports</li>
<li>In the <code>.py</code> file, you can write the script that will generate the report</li>
</ol>

<h3>2. Add Filters</h3>

<p>You can add filters in the <code>.js</code>. See an example below:</p>

<pre><code>frappe.query_reports["Accounts Receivable"] = {
    "filters": [
        {
            "fieldname":"company",
            "label": __("Company"),
            "fieldtype": "Link",
            "options": "Company",
            "default": frappe.defaults.get_user_default("company")
        },
    ]
}
</code></pre>

<ol>
<li>These properties are the same as you would set in a DocField in a DocType</li>
</ol>

<h3>3. Add the Script</h3>

<p>In the <code>.py</code> file you can add the script for generating the report.</p>

<ol>
<li>In the <code>execute</code> method, two lists <code>columns</code> and <code>data</code> are returned</li>
<li>Columns must be a list of labels in the same format as query report. <strong>[Label]:[Field Type]/[Options]:[Width]</strong>. For example <code>Item:Link/Item:150</code></li>
<li>You can use all server side modules to build your report.</li>
<li>For example see existing reports. (<a href="https://github.com/frappe/erpnext/blob/develop/erpnext/accounts/report/balance_sheet/balance_sheet.py">Balance Sheet</a>)</li>
</ol>

<h3>4. Commit and Push the app</h3>

<p>Don't forget to commit and push your app.</p>

	</article>
	
</div>
</div>
    	</div>
	</div>
</div>
                            <p><br><a class="text-muted" href="https://github.com/frappe/frappe/blob/v6.6.1/frappe/docs/user/guides/how-to-make-script-reports.md">Improve this page</a></p>
                            </div>
                        
                    </div>
					<footer class="docs-footer">
						<div class="container"><br>
                        <div class="text-center">
                            <ul class="list-unstyled">
                                <li>
                                    <a href="https://github.com/frappe/frappe">
                                    Source</a>
                                </li>
                                <li>
                                    <a href="https://github.com/frappe/frappe/issues">
                                    Issues</a>
                                </li>
                                <li>
                                    <a href="https://frappe.github.io/frappe/license.html">
                                    License</a>
                                </li>
                                <li>
                                    <a href="https://discuss.erpnext.com">
                                    Forum</a>
                                </li>
                                <li>
                                    <a href="https://apps.frappe.io">
                                    Frappe Apps</a>
                                </li>
                            </ul>
                        </div>
                        <div class="built-with-frappe text-center">
                            <img src="https://frappe.github.io/frappe/assets/img/frappe-bird-grey.svg" style="width: 40px; height: 40px; margin-top: 20px;">
                        </div>
                    </div>
					</footer>
				</div>
			</div>
			<div class="modal-backdrop offcanvas-main-section-overlay"></div>
			<div class="sidebar sidebar-right visible-xs">
				<div class="sidebar-navbar-items">
					<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='Contents' >
	<a href="https://frappe.github.io/frappe/contents.html"
		
		>
	Contents</a></li><li data-label='User Guide' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	User Guide</a></li><li data-label='Developer Docs' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	Developer Docs</a></li>
	<!-- post login tools -->

</ul>

				</div>
			</div>
		</div>
	</div>

	<!-- js should be loaded in body! -->
    <script>
    $(function() {
	if(hljs) {
		$('pre code').each(function(i, block) {
			hljs.highlightBlock(block);
		});
	}

	$(".toggle-sidebar").on("click", function() {
		$(".offcanvas").addClass("active-right");
		return false;
	});

	// collapse offcanvas sidebars!
	$(".offcanvas .sidebar").on("click", "a", function() {
		$(".offcanvas").removeClass("active-left active-right");
	});

	$(".offcanvas-main-section-overlay").on("click", function() {
		$(".offcanvas").removeClass("active-left active-right");
		return false;
	});

});
    </script>
		<script data-html-block="script"></script>

	<!-- csrf_token --></body>
</html>