<!DOCTYPE html>
<!-- Built on Frappe. https://frappe.io/ -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>frappe.utils.doctor</title>
	<meta name="generator" content="frappe">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/bootstrap.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/hljs.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/font-awesome.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/octicons/octicons.css">
    <link type="text/css" rel="stylesheet" href="https://frappe.github.io/frappe/assets/css/docs.css">

	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/jquery.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/bootstrap.min.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/highlight.pack.js"></script>
	<script type="text/javascript" src="https://frappe.github.io/frappe/assets/js/docs.js"></script>

    
	<link rel="shortcut icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
	<link rel="icon"
		href="/assets/img/favicon.ico"
		type="image/x-icon">
    
<meta name="name" content="frappe.utils.doctor" data-html-block="meta_block">
<meta name="twitter:card" content="summary" data-html-block="meta_block">
<meta name="og:type" content="article" data-html-block="meta_block">
<meta name="og:title" content="frappe.utils.doctor" data-html-block="meta_block">
<meta name="twitter:title" content="frappe.utils.doctor" data-html-block="meta_block">
<meta name="description" content="" data-html-block="meta_block">

		
			<style></style></head>
<body data-path="current/api/utils/frappe.utils.doctor">
	<div class="offcanvas-container">
		<div class="offcanvas">
			<div class="offcanvas-main-section">
				<div>
						<header>
	<nav class="navbar navbar-default navbar-main" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<a class="navbar-brand ellipsis" href="https://frappe.github.io/frappe/">
					<span>Frappe Framework</span>
				</a>
				<a class="pull-right toggle-sidebar visible-xs">
					<i class="octicon octicon-three-bars"></i>
				</a>
			</div>
			<div class="hidden-xs">
				
				<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='<i class="octicon octicon-search"></i>' >
	<a href="/#"
		
		>
	<i class="octicon octicon-search"></i></a></li><li data-label='Developer Tutorials' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	Developer Tutorials</a></li><li data-label='Documentation' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	Documentation</a></li>
	<!-- post login tools -->

</ul>

				
			</div>
		</div>
	</nav>
</header>
<script>$(function() { $('.dropdown-toggle').dropdown(); });</script><div class="hero-and-content"><div data-html-block="hero">
                                
                            </div>
							<div class="container">
                               <div class="page-container" id="page-frappe.utils.doctor" data-path="current/api/utils/frappe.utils.doctor"
    data-doctype="Web Page">
	<div class="page-content">
    	<div class="page-content-wrapper">
            <div class="row">
                <div class="col-sm-8">
                 <div class="page-breadcrumbs" data-html-block="breadcrumbs">
<ul class="breadcrumb">
	<li>
		<span class="icon icon-angle-left"></span>
		<a href="https://frappe.github.io/frappe/current/api/utils">
		utils</a>
	</li>
	
</ul>
</div>
            		<div class="page-header-block" data-html-block="header"><h1>frappe.utils.doctor</h1></div>
                </div>
                <div class="col-sm-4">
            		<div class="page-header-actions-block" data-html-block="header-actions"></div>
                </div>
            </div>
    		
    	    <div class="page-content-block">
<div class="webpage-content">
	
	<article class="web-page-content" id="frappe.utils.doctor" style="text-align: Left">
	<!-- title: frappe.utils.doctor --><div class="dev-header">

<a class="btn btn-default btn-sm" disabled style="margin-bottom: 10px;">
	Version 6.x.x</a>


	<a class="btn btn-default btn-sm" href="https://github.com/frappe/frappe/blob/develop/frappe/utils/doctor.py"
		target="_blank" style="margin-left: 10px; margin-bottom: 10px;"><i class="octicon octicon-mark-github"></i> Source</a>

</div>





	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.celery_doctor" href="#frappe.utils.doctor.celery_doctor" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>celery_doctor</b>
        <i class="text-muted">(site=None)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.check_if_workers_online" href="#frappe.utils.doctor.check_if_workers_online" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>check_if_workers_online</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.doctor" href="#frappe.utils.doctor.doctor" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>doctor</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p>Prints diagnostic information for the scheduler</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.dump_queue_status" href="#frappe.utils.doctor.dump_queue_status" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>dump_queue_status</b>
        <i class="text-muted">(site=None)</i>
    </p>
	<div class="docs-attr-desc"><p>Dumps pending events and tasks per queue</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_pending_task_count" href="#frappe.utils.doctor.get_pending_task_count" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_pending_task_count</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p>Get count of pending tasks</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_queues" href="#frappe.utils.doctor.get_queues" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_queues</b>
        <i class="text-muted">(site=None)</i>
    </p>
	<div class="docs-attr-desc"><p>Returns the name of queues where frappe enqueues tasks as per the configuration</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_redis_conn" href="#frappe.utils.doctor.get_redis_conn" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_redis_conn</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p>Returns the redis connection that celery would use</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_running_tasks" href="#frappe.utils.doctor.get_running_tasks" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_running_tasks</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_task_body" href="#frappe.utils.doctor.get_task_body" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_task_body</b>
        <i class="text-muted">(taskstr)</i>
    </p>
	<div class="docs-attr-desc"><p><span class="text-muted">No docs</span></p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_task_count_for_queue" href="#frappe.utils.doctor.get_task_count_for_queue" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_task_count_for_queue</b>
        <i class="text-muted">(queue)</i>
    </p>
	<div class="docs-attr-desc"><p>For a given queue, returns the count of every pending task and aggregate of
events pending</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.get_timedout_locks" href="#frappe.utils.doctor.get_timedout_locks" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>get_timedout_locks</b>
        <i class="text-muted">()</i>
    </p>
	<div class="docs-attr-desc"><p>Get list of stale locks from all sites</p>
</div>
	<br>

	

	
        
    
    
	<p class="docs-attr-name">
        <a name="frappe.utils.doctor.purge_pending_tasks" href="#frappe.utils.doctor.purge_pending_tasks" class="text-muted small">
            <i class="icon-link small" style="color: #ccc;"></i></a>
		frappe.utils.doctor.<b>purge_pending_tasks</b>
        <i class="text-muted">(event=all)</i>
    </p>
	<div class="docs-attr-desc"><p>Purge tasks of the event event type. Passing 'all' will not purge all
events but of the all event type, ie. the ones that are enqueued every five
mintues and would any leave daily, hourly and weekly tasks</p>
</div>
	<br>

	



<!-- autodoc -->
	</article>
	
</div>
</div>
    	</div>
	</div>
</div>
                               <!-- edit-link -->
                            </div>
                        
                    </div>
					<footer class="docs-footer">
						<div class="container"><div class="built-with-frappe text-center">
                            <img class="frappe-bird" src="https://frappe.github.io/frappe/assets/img/frappe-bird-grey.svg">
                            <h3>By Frappe Technologies</h3>
                        </div>
                        <div class="text-center">
                            <ul class="list-unstyled">
                                <li>
                                    <a href="https://github.com/frappe/frappe">
                                    Source</a>
                                </li>
                                <li>
                                    <a href="https://github.com/frappe/frappe/issues">
                                    Issues</a>
                                </li>
                                <li>
                                    <a href="https://frappe.github.io/frappe/license.html">
                                    License</a>
                                </li>
                                <li>
                                    <a href="https://discuss.erpnext.com">
                                    Forum</a>
                                </li>
                                <li>
                                    <a href="https://apps.frappe.io">
                                    Frappe Apps</a>
                                </li>
                            </ul>
                        </div>

                    </div>
					</footer>
				</div>
			</div>
			<div class="modal-backdrop offcanvas-main-section-overlay"></div>
			<div class="sidebar sidebar-right visible-xs">
				<div class="sidebar-navbar-items">
					<ul class="nav navbar-nav navbar-left">
</ul>
<ul class="nav navbar-nav navbar-right"><li data-label='<i class="octicon octicon-search"></i>' >
	<a href="/#"
		
		>
	<i class="octicon octicon-search"></i></a></li><li data-label='Developer Tutorials' >
	<a href="https://frappe.github.io/frappe/user"
		
		>
	Developer Tutorials</a></li><li data-label='Documentation' >
	<a href="https://frappe.github.io/frappe/current"
		
		>
	Documentation</a></li>
	<!-- post login tools -->

</ul>

				</div>
			</div>
		</div>
	</div>

	<!-- js should be loaded in body! -->
		<script>
        window.docs_base_url = "https://frappe.github.io/frappe";</script>

	<!-- csrf_token --></body>
</html>